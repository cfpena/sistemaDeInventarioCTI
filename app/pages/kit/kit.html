
<nav class="light-blue darken-4" >
  <div class="nav-wrapper navbar-fixed" >
    <a href="#" (click)="openMenu()"data-activates="nav-mobile" class="button-collapse show-on-large left"><i class="material-icons left">menu</i></a>
    <a href="#!" class="brand-logo">{{title}}</a>
  </div>
</nav>

<!--Tabla de kits-->
<ion-content>
  <div *ngIf="template=='null'">
    <!--Búsqueda por codigo o nombre-->
    <div class="row">
      <div class="col l1 m2 s4 offset-l9 offset-m7 " >
        <div class="input-field">
          <select materialize="material_select" [materializeSelectOptions]="selectOptions" [(ngModel)]="busqueda.tipo">
            <option *ngFor="let tiposBusqueda of tiposBusquedas" [value]="tiposBusqueda" >{{tiposBusqueda}}</option>
          </select>
        </div>
      </div>
      <div class="col l2 m3 s8">
        <div class="input-field">
          <input (keyup)="buscar()" type="text" id="identificacion"  [(ngModel)]="busqueda.valor">
          <label class="black-text active" for="identificacion" >Búsqueda</label>
        </div>
      </div>
    </div>
    <table  materialize class="centered table centered striped" style="font-size: 15px">
      <thead>
        <tr>
          <th></th>
          <th data-field="id">Código</th>
          <th data-field="nombre">Nombre</th>
          <th data-field="cantidad">Cantidad</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor = "let kit of kits">
          <td>
            <input (change)="select(kit)" id={{kit.id}} type="checkbox" class="filled-in"/>
            <label attr.for="{{kit.id}}"></label>
          </td>
          <td >{{kit.Codigo}}</td>
          <td>{{kit.Nombre}}</td>
          <td>{{kit.Stock}}</td>
          <td>
            <a class="button-collapse" (click)="goModificar(kit)"><i class="material-icons left">mode_edit</i></a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</ion-content>
<!--Boton flotante de opciones add, edit, delete-->
<!-- if de angular, valida si se debe mostrar o no segun la variable template -->

<div *ngIf="template=='null'">
  <div class="fixed-action-btn" style="bottom: 45px; right: 24px;">
    <a class="btn-floating btn-large orange darken-1">
      <i class="large material-icons">settings</i>
    </a>
    <ul>
      <li><a (click)="eliminar()" class="btn-floating red"><i class="material-icons">delete</i></a></li>
      <li><a (click)="goCrearKit()" class="btn-floating blue"><i class="material-icons">add</i></a></li>
    </ul>
  </div>
</div>


<!--crear kit-->
<!--Layout para crear un nuevo Kit-->
<div *ngIf="template=='crear'" style="overflow: scroll;">
  <div id="nuevo_kit" class="section">
    <div class ="row">
      <!--primer panel-->
      <div class="col l5">
        <div class="card blue-grey lighten-5 ">
          <div class="card-panel teal lighten-2 black-text">Nuevo Kit</div>
          <div class="card-content black-text">
            <div class="row">
              <!--primera columna-->
              <div class="col l6 m6 s12">
                <div class="input-field ">

                  <input id="icon_codigo" type="text" class="validate" minlength="10" maxlength="10" pattern = "[0-9]*" [(ngModel)]="kitNuevo.Codigo">
                  <label for="icon_codigo"> *  Código</label>
                </div>
                <div class="input-field">

                  <input id="CodigoEspol" type="text" class="validate" minlength="10" maxlength="10" pattern = "[0-9]*">
                  <label for="CodigoEspol">Código Espol</label>
                </div>
                <div class="input-field">
                  <input id="CodigoSenecyt" type="text" class="validate" minlength="10" maxlength="10" pattern = "[0-9]*" >
                  <label for="CodigoSenecyt">Código Senecyt</label>
                </div>
              </div>
              <!-- segunda columna-->
              <div class="col l6 m6 s12">
                <div class="input-field">
                  <input id="icon_nombre" type="text" class="validate" minlength="2" maxlength="15" pattern = "[a-zA-Z]*">
                  <label for="icon_nombre"> *  Nombre</label>
                </div>
                <div class="input-field">
                  <input id="icon_modelo" type="text" class="validate"  minlength="5" maxlength="10">
                  <label for="icon_modelo">   Modelo</label>
                </div>
                <div class="input-field ">
                  <input id="icon_marca" type="text" class="validate"  minlength="5" maxlength="10" >
                  <label for="icon_marca">   Marca</label>
                </div>
              </div>
              <div class="row">
                <div class="col l12">
                  <div class="input-field col s12">
                    <textarea id="textarea1" class="materialize-textarea" length="120"></textarea>
                    <label for="textarea1">*  Descripción</label>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!--Segundo panel-->
      <div class="col l7">
        <div class="card blue-grey lighten-5 ">
          <div class="card-panel teal lighten-2 black-text">Agregar Ítems</div>
          <div class="card-content black-text">
            <div class="row">
              <div class="col l3 offset-l5">
                <div class="input-field">
                  <input id="icon_nombre" type="text" class="validate" minlength="2" maxlength="15" pattern = "[a-zA-Z]*">
                  <label for="icon_nombre">Búsqueda</label>
                </div>
              </div>
            </div>
            <!--Tabla de items-->
            <table  materialize class="centered table centered striped" style="font-size: 14px">
              <thead>
                <tr>
                  <th data-field="id">Código</th>
                  <th data-field="nombre">Nombre</th>
                  <th data-field="disponible">Cantidad</th>
                  <th data-field="cantidad">Cant. Agregar</th>
                  <th></th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <!--<td>{{item.Codigo}}</td>
                  <td>{{item.Nombre}}</td>
                  <td>{{item.Stock}}</td>-->
                  <td>1234567899</td>
                  <td>resistencia</td>
                  <td>30</td>
                  <td><input id="agregar" style="width:40%" type="text" class="validate" pattern = "[0-9]*"  ></td>
                  <td>
                    <a class="button-collapse"><i class="material-icons right" style="color:	#e57373">remove_circle</i></a>
                  </td>
                </tr>
              </tbody>
            </table>
            <div class="row">
            <div class="col l3 offset-l9">
              <a class="btn waves-effect waves-light"  style="font-size: 16px">Crear
                <i class="material-icons right">send</i>
              </a>
              <h6 style="color:#9e9e9e; font-size: 14px">(*)Campos obligatorios</h6>
            </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="section">
    <div class="fixed-action-btn" style="bottom: 45px; right: 24px;">
      <a (click)="cancelar()" class="btn-floating btn-large waves-effect waves-light red right">
        <i class="material-icons">clear</i>
      </a>
    </div>
  </div>
</div>



<!--modificar kit-->
<div *ngIf="template=='modificar'" >
  <div id="nuevo_kit" class="section">
    <div class="row ">
      <!--primer panel-->
      <div class="col l7 m7 s12 offset-l1" >
        <div class="card blue-grey lighten-5 ">
          <div class="card-panel teal lighten-2 black-text">Modificar Kit</div>
          <div class="card-content black-text">
            <div class="row">
              <!--primera columna-->
              <div class="col l6 m6 s12">
                <div class="input-field ">
                  <i class="material-icons prefix" style="color:#9e9e9e">keyboard_arrow_right</i>
                  <input id="icon_codigo" type="text" class="validate" minlength="10" maxlength="10" pattern = "[0-9]*"  [(ngModel)]="kitModificar.Codigo">
                  <label for="icon_codigo"> *  Código</label>
                </div>
                <div class="input-field">
                  <i class="material-icons prefix" style="color:#9e9e9e">keyboard_arrow_right</i>
                  <input id="CodigoEspol" type="text" class="validate" minlength="10" maxlength="10" pattern = "[0-9]*"  [(ngModel)]="kitModificar.CodigoEspol">
                  <label for="CodigoEspol">Código Espol</label>
                </div>
                <div class="input-field">
                  <i class="material-icons prefix" style="color:#9e9e9e">keyboard_arrow_right</i>
                  <input id="CodigoSenecyt" type="text" class="validate" minlength="10" maxlength="10" pattern = "[0-9]*" [(ngModel)]="kitModificar.CodigoSenecyt">
                  <label for="CodigoSenecyt">Código Senecyt</label>
                </div>
                <div class="input-field">
                  <i class="material-icons prefix" style="color:#9e9e9e" >keyboard_arrow_right</i>
                  <input id="icon_nombre" type="text" class="validate" minlength="2" maxlength="15" pattern = "[a-zA-Z]*" [(ngModel)]="kitModificar.Nombre" >
                  <label for="icon_nombre"> *  Nombre</label>
                </div>
              </div>
              <!-- segunda columna-->
              <div class="col l6 m6 s12">
                <div class="input-field" >
                  <i class="material-icons prefix" style="color:#9e9e9e">keyboard_arrow_right</i>
                  <input id="icon_cantidad" type="tel" class="validate"  minlength="1" maxlength="2" pattern = "[0-9]*" [(ngModel)]="kitModificar.Stock" >
                  <label for="icon_cantidad" > *  Cantidad</label>
                </div>
                <div class="input-field">
                  <i class="material-icons prefix" style="color:#9e9e9e" >keyboard_arrow_right</i>
                  <input id="icon_modelo" type="tel" class="validate"  minlength="5" maxlength="10" [(ngModel)]="kitModificar.Modelo">
                  <label for="icon_modelo">   Modelo</label>
                </div>
                <div class="input-field ">
                  <i class="material-icons prefix" style="color:#9e9e9e">keyboard_arrow_right</i>
                  <input id="icon_marca" type="tel" class="validate"  minlength="5" maxlength="10" [(ngModel)]="kitModificar.Marca" >
                  <label for="icon_marca">   Marca</label>
                </div>
                <div class="input-field">
                  <i class="material-icons prefix" style="color:#9e9e9e">keyboard_arrow_right</i>
                  <input id="icon_descripcion" type="text" class="validate" minlength="5" maxlength="30" [(ngModel)]="kitModificar.Descripcion">
                  <label for="icon_descripcion"> *  Descripción</label>
                </div>
              </div>
            </div>
            <!--Seccion de agregar ítems-->
            <div class="row">
              <div style="padding-top: 2px" class="divider"></div>
              <div class="row">
                <div class="col l11 offset-l1" style="padding-top: 2%">
                  <label style="font-size: 100%"  class="gray-text" >Agregar Ítems</label>
                </div>
              </div>

              <div class="row">
                <div class="col l6 m6 s12">
                  <div class="input-field">
                    <i class="material-icons prefix">keyboard_arrow_right</i>
                    <select materialize="material_select" [materializeSelectOptions]="selectOptions">
                      <option *ngFor="let tiposBusqueda of tiposBusquedas" [value]="tiposBusqueda">{{tiposBusqueda}}</option>
                    </select>
                  </div>
                </div>
                <div class="col l6 m6 s12 ">
                  <div class="row" style="position: relative; right:3%">
                    <div class="col l9 m9 s8 offset-s1">
                      <div class="input-field">
                        <input class="black-text"  id="busqueda" type="text">
                        <label class="black-text" for="busqueda" class="active">Búsqueda</label>
                      </div>
                    </div>
                    <div class="col l3 m3 s3">
                      <div style="padding-top: 22px">
                        <a class="waves-effect waves-light btn"><i class="material-icons right">search</i></a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col l6 m6 s12">
                  <div class="input-field">
                    <i class="material-icons prefix">keyboard_arrow_right</i>
                    <input id="icon_descripcion" disabled="disabled" type="text" class="validate" minlength="5" maxlength="30">
                    <label id="nombre_item" for="icon_descripcion"> Nombre de ítem</label>
                  </div>
                </div>
                <div class="col l6 m6 s12">
                  <div class="row" style="position: relative; right:3%">
                    <div class="col l9 m9 s8 offset-s1">
                      <div class="input-field" >
                        <input id="icon_cantidad" type="tel" class="validate"  minlength="1" maxlength="2" pattern = "[0-9]*"  >
                        <label for="icon_cantidad" > *  Cantidad</label>
                      </div>
                    </div>
                    <div class="col l3 m3 s3">
                      <div style="padding-top: 22px">
                        <a class="waves-effect waves-light btn"><i class="material-icons right">add</i></a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col l3 m3 s7 offset-l9 offset-m9 offset-s5">
                  <a (click)="modificar()"  class="btn waves-effect waves-light"  style="font-size: 16px">Guardar
                    <i class="material-icons right">send</i>
                  </a>
                  <h6 style="color:#9e9e9e">(*)Campos obligatorios</h6>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!--segundo panel-->
      <div class="col l3 m4 s12">
        <div class="card blue-grey lighten-5 ">
          <div class="card-panel teal lighten-2 black-text">Ítems</div>
          <div class="card-content black-text">
            <ul>
              <div >
                <div class="card-content grey-text" style="font-size: 15px">
                  <li><a class="button-collapse "><i class="material-icons right" style="color:	#e57373">remove_circle</i></a></li>
                  <li >Resistencia 50 </li>
                </div>
              </div>

              <div >
                <div class="card-content grey-text" style="font-size: 15px">
                  <li><a  class="button-collapse "><i class="material-icons right" style="color:	#e57373">remove_circle</i></a></li>
                  <li >Resistencia 20 </li>
                </div>
              </div>

            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="section">
    <div class="fixed-action-btn" style="bottom: 45px; right: 24px;">
      <a (click)="cancelar()" class="btn-floating btn-large waves-effect waves-light red right">
        <i class="material-icons">clear</i>
      </a>
    </div>
  </div>
</div>
